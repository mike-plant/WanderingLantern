{# Event card component for use in event listings #}
{# Usage: {% include "components/event-card.njk" %} #}

<a href="{{ event.url }}" class="event-card-link">
    <div class="event-card {% if event.data.status %}event-card--{{ event.data.status }}{% elif isPastEvent(event.data.date, event.data.time) %}event-card--closed{% endif %}">
        {% if event.data.status %}
        <div class="event-status-badge event-status-badge--{{ event.data.status }}">
            {% if event.data.status == 'cancelled' %}CANCELLED
            {% elif event.data.status == 'full' %}FULL
            {% endif %}
        </div>
        {% elif isPastEvent(event.data.date, event.data.time) %}
        <div class="event-status-badge event-status-badge--closed">
            CLOSED
        </div>
        {% endif %}
        <div class="event-card-content">
            <h3 class="event-card-title">{{ event.data.title }}</h3>
            <div class="event-card-meta">
                {% if event.data.date %}
                <div><strong>{{ event.data.date | date('MMMM D, YYYY') }}</strong></div>
                {% endif %}
                {% if event.data.time %}
                <div>{{ event.data.time }}</div>
                {% endif %}
            </div>
            <p class="event-card-description">{{ event.data.excerpt }}</p>
            {% if event.data.ageRange %}
            <span class="event-badge">Ages {{ event.data.ageRange }}</span>
            {% endif %}
            <div class="event-card-cta">
                Learn More & Register â†’
            </div>
        </div>
    </div>
</a>
